<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PopyChat Dark</title>
<style>
  body { background: #0b0f1a; color: #e0e0e0; font-family: sans-serif; margin:0; padding:0; }
  h2,h3 { margin: 10px 0; }
  input, button { margin: 5px 0; padding: 8px; border-radius: 6px; border: 1px solid #444; background:#121823; color:#e0e0e0; width: 100%; }
  button { cursor:pointer; background:#1b263b; }
  #chat { display:none; padding:10px; }
  #groupMessages { border:1px solid #444; padding:10px; height:250px; overflow-y:scroll; background:#121823; }
  ul { padding-left:20px; }
  li { cursor:pointer; padding:4px; }
  li:hover { background:#1b263b; }
  .card { background:#121823; padding:15px; margin:10px 0; border-radius:10px; }
</style>
</head>
<body>

<!-- SIGNUP -->
<div id="signup" class="card">
  <h2>Signup</h2>
  <input type="email" id="signupEmail" placeholder="Email">
  <input type="password" id="signupPassword" placeholder="Password">
  <button onclick="signup()">Sign Up</button>
</div>

<!-- LOGIN -->
<div id="login" class="card">
  <h2>Login</h2>
  <input type="email" id="loginEmail" placeholder="Email">
  <input type="password" id="loginPassword" placeholder="Password">
  <button onclick="login()">Login</button>
</div>

<!-- CHAT -->
<div id="chat">
  <h2>Welcome <span id="userEmail"></span> (Role: <span id="userRole"></span>)</h2>

  <div class="card">
    <h3>Create Group (Admin Only)</h3>
    <input type="text" id="groupName" placeholder="Group Name">
    <button onclick="createGroup()">Create</button>
  </div>

  <div class="card">
    <h3>Join Group</h3>
    <input type="text" id="joinGroupName" placeholder="Group Name">
    <button onclick="joinGroup()">Join</button>
  </div>

  <div class="card">
    <h3>All Groups</h3>
    <button onclick="loadGroups()">Refresh Groups</button>
    <ul id="groupsList"></ul>
  </div>

  <div id="currentGroup" class="card">
    <h3>Group: <span id="currentGroupName">None</span></h3>
    <div id="groupMessages"></div>
    <input type="text" id="messageInput" placeholder="Type message...">
    <button onclick="sendMessage()">Send</button>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
